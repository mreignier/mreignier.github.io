<html>
<head>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);


    function drawChart() {
      var queryString = encodeURIComponent('SELECT A, B, C, D, E WHERE F="aaa"');
      var queryURL = 'https://docs.google.com/spreadsheets/d/1e1fQ4IDw6Z0em-8toyLOl2oXPGgiyK9dUStnDgWk1bs/edit?usp=sharing&tq=' + queryString
      console.log(queryURL)
      var query = new google.visualization.Query(queryURL);
      query.send(handleQueryResponse);
    }

    function handleQueryResponse(response) {
      var data = response.getDataTable();
      console.log(data)
      var options = {
        chart: {
          title: 'Evolution of Social Scores'
        },
        width: 900,
        height: 500
      };

      var chart = new google.visualization.LineChart(document.getElementById('linechart_material'));
      chart.draw(data, options);
    }
  </script>
  <script type="text/javascript">

  </script>
</head>
<body>
  <label for="wizards">Who's the best wizard?</label>
  <input type="text" id="wizards" name="wizards" list="wizards-list">

  <datalist id="wizards-list">
  	<option>Harry Potter</option>
  	<option>Hermione</option>
  	<option>Dumbledore</option>
  	<option>Merlin</option>
  	<option>Gandalf</option>
  </datalist>

  <div id="linechart_material"></div>
</body>
</html>
